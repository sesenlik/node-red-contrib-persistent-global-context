<script type="text/javascript">
    RED.nodes.registerType('persistent-global-context',{
        category: 'storage',
        color: '#DEB887',
        defaults: {
            
        },
        inputs:1,
        outputs:0,
        icon: "file.png",
        label: function() {
            return this.name||"persistent-global-context";
        }
    });
</script>

<script type="text/html" data-template-name="persistent-global-context">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
	</div>	
</script>

<script type="text/html" data-help-name="persistent-global-context">
    <p>Writes all data stored in Global Context to a to local filesystem to keep program data between Node-Red instance deployments and restarts.</p>

	<h3>Details</h3>
		<p> This node will save the Global Context data into a local file when it receives input. 
			So user must define the frequency of local data storage by adjusting the frequency of trigger sent to the node.</p>

            <h3>Example Flow</h3>
            <p> [{"id":"062d6b7526c1c316","type":"persistent-global-context","z":"2d2bad85f9c458c5","x":510,"y":280,
                "wires":[]},{"id":"01d5b21fa1056c7e","type":"inject","z":"2d2bad85f9c458c5","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],
                "repeat":"0.1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":250,"y":280,"wires":[["062d6b7526c1c316"]]}] </p>

	<h3>Atolye 4.0</h3>

</script>
